!function(a){"function"==typeof define&&define.amd?define(["angular","../const/constants"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("angular"):require("angular")(b)),a(c,require("../const/constants")),c}:a(angular)}(function(a){"use strict";var b=function(a,b,c){var d=this;this.isShow=!1,void 0===this.pattern&&(this.pattern="standard"),void 0===this.active&&(this.active=!1),void 0===this.toggleText&&(this.toggleText="link"),void 0===this.buttonText&&(this.buttonText="OK"),this.keydownHandler=function(b){b.keyCode===a.ESC&&this.open(b)},this.open=function(a){var e=c[0].querySelector(".modal");this.animation===!0?this.isShow?b.removeClass(e,"open").then(function(){d.isShow=!1}):(this.isShow=!0,b.removeClass(e,"open").then(function(){b.addClass(e,"open").then(function(){e.focus()})})):(this.isShow=!this.isShow,this.isShow&&setTimeout(function(){e.focus()},0)),this.onToggle()&&"function"==typeof this.onToggle&&this.onToggle()(this.isShow,a),d.isWizard&&void 0!==d.wizardCtrl&&d.isShow&&d.wizardCtrl.runStepCallback()},this.confirm=function(a){this.onConfirm()&&"function"==typeof this.onConfirm&&this.onConfirm()(a),this.open(a),d.isWizard&&void 0!==d.wizardCtrl&&d.wizardCtrl.resetStep()},this.cancel=function(a){this.onCancel()&&"function"==typeof this.onCancel&&this.onCancel()(a),this.open(a),d.isWizard&&void 0!==d.wizardCtrl&&d.wizardCtrl.resetStep()},document.addEventListener("focus",function(a){var b=c[0].querySelector(".modal");d.isShow&&!b.contains(a.target)&&(a.preventDefault(),b.focus())},!0)};b.$inject=["WF-KEYCODE-CONST","$animate","$element"],a.module("wf.angular.dialog",["wf.angular.constants","ngAnimate"]).component("wfDialog",{transclude:!0,templateUrl:"wf/ng-template/dialog/dialog.html",bindings:{pattern:"<",titleText:"<",subheader:"<",instruction:"<",active:"<?",confirmBtnText:"<",toggleStyle:"<",toggleText:"<",animation:"<?",isWizard:"<?",onConfirm:"&",onCancel:"&",onToggle:"&"},controller:b})});