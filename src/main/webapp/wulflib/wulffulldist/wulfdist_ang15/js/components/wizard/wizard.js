!function(a){"function"==typeof define&&define.amd?define(["angular","../const/constants"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("angular"):require("angular")(b)),a(c,require("../const/constants")),c}:a(angular)}(function(a){"use strict";var b=function(){var a=this;a.steps=[],a.selectedStepIdx=-1,a.addStep=function(b){a.steps.push(b),b.setActive&&(a.selectedStepIdx=a.steps.length-1),a.computeStepDistance()},a.runStepCallback=function(){var b=a.steps[a.selectedStepIdx],c=b.onStepTraversed;c()&&"function"==typeof c&&c()(a.selectedStepIdx)},a.computeStepDistance=function(){var b=(100/(a.steps.length-1)).toFixed(3),c=40/(a.steps.length-1);this.stepDistance={width:"calc("+b+"% - "+c+"px)"}},a.$postLink=function(){a.computeStepDistance(),a.dialogCtrl.wizardCtrl=this},this.nextStep=function(){a.selectedStepIdx<a.steps.length-1&&(a.steps[a.selectedStepIdx].setActive=!1,a.selectedStepIdx++,a.steps[a.selectedStepIdx].setActive=!0,a.runStepCallback())},this.previousStep=function(){this.selectedStepIdx>0&&(this.steps[this.selectedStepIdx].setActive=!1,this.selectedStepIdx--,this.steps[this.selectedStepIdx].setActive=!0,a.runStepCallback())},this.resetStep=function(){0!==this.selectedStepIdx&&(this.steps[this.selectedStepIdx].setActive=!1,this.selectedStepIdx=0,this.steps[this.selectedStepIdx].setActive=!0)}},c=function(){var a=this;a.$onInit=function(){a.wizardCtrl.addStep(this)}};a.module("wf.angular.wizard",["wf.angular.constants"]).component("wfWizard",{transclude:!0,templateUrl:"wf/ng-template/wizard/wizard.html",controller:b,require:{dialogCtrl:"^wfDialog"}}).component("wfWizardStep",{transclude:{description:"wfWizardStepDescription",content:"wfWizardStepContent"},templateUrl:"wf/ng-template/wizard/wizard-step.html",bindings:{bulletText:"<",setActive:"<?",onStepTraversed:"&"},controller:c,require:{wizardCtrl:"^wfWizard"}})});