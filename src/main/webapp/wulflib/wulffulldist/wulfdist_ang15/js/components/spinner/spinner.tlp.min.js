!function(a){"function"==typeof define&&define.amd?define(["angular","../const/constants"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("angular"):require("angular")(b)),a(c,require("../const/constants")),c}:a(angular)}(function(a){"use strict";var b=function(a){function b(a){var b=[48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,189,109,110,190,37,39,9,8];return b.indexOf(a)>-1}function c(a,b){var c=/^[+-]?\d+(\.\d+)?$/;if(c.test(e.quantity)||0===e.quantity){var h=parseFloat(e.quantity);h=d(h,a),h<f?e.quantity=f:h>g?e.quantity=g:e.quantity=h}else e.quantity=f;e.onValueChanged()&&"function"==typeof e.onValueChanged&&e.onValueChanged()(e.quantity,b)}function d(a,b){var c,d,e;try{c=a.toString().split(".")[1].length}catch(a){c=0}try{d=b.toString().split(".")[1].length}catch(a){d=0}return e=Math.pow(10,Math.max(c,d)),(a*e+b*e)/e}var e=this,f=e.min||0,g=e.max||999,h=e.init||f,i=e.step||1,j=e.pattern,k=e.disable;e.quantity=h;var l=e.quantity;"small"===j?e.class="spinbox n-spinbox-small":e.class="spinbox",void 0===k&&(e.disable=!1),e.increase=function(a){c(i,a)},e.decrease=function(a){c(-i,a)},e.checkValue=function(a){var b=/^[+-]?\d+(\.\d+)?$/,c=/^[+-]?\d+(\.+)?$/,d=e.quantity;b.test(d)||"-"===d||c.test(d)||""===d?d<f?e.quantity=f:d>g&&(e.quantity=g):e.quantity=f,d!==l&&e.onValueChanged()&&"function"==typeof e.onValueChanged&&e.onValueChanged()(e.quantity,a)},e.checkValid=function(d){b(d.keyCode)||d.preventDefault(),d.keyCode===a.UP&&c(i,d),d.keyCode===a.DOWN&&c(-i,d),l=e.quantity}};b.$inject=["WF-KEYCODE-CONST"],a.module("wf.angular.spinner",["wf.angular.constants"]).component("wfSpinner",{templateUrl:"wf/ng-template/spinner/spinner.html",bindings:{min:"<",max:"<",init:"<",step:"<",pattern:"@",disable:"<?",onValueChanged:"&"},controller:b}),a.module("wf.angular.spinner").run(["$templateCache",function(a){a.put("wf/ng-template/spinner/spinner.html",'<div class="spinner-container">\n    <div ng-class="$ctrl.class">\n        <input ng-model="$ctrl.quantity" onpaste="return false;" oncontextmenu="return false;" style="ime-mode:disabled;"  ng-keydown="$ctrl.checkValid($event)" ng-keyup="$ctrl.checkValue($event)" ng-disabled="$ctrl.disable" type="text" class="form-control spinbox-input n-inputfield"/>\n        <div class="spinbox-buttons btn-group btn-group-vertical">\n            <button ng-click="$ctrl.increase($event)" type="button" class="btn btn-default spinbox-up btn-xs" ng-disabled="$ctrl.disable" role="button" aria-label="increase">\n                <span class="icon icon-arrow-up"></span>\n            </button>\n            <button ng-click="$ctrl.decrease($event)" type="button" class="btn btn-default spinbox-down btn-xs"  ng-disabled="$ctrl.disable" role="button" aria-label="decrease">\n                <span class="icon icon-arrow"></span>\n            </button>\n        </div>\n    </div>\n</div>')}])});