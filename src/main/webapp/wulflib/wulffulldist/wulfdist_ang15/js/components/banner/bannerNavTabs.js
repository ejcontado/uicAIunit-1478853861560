!function(a){"function"==typeof define&&define.amd?define(["angular","../const/constants","../banner/menuBar"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("angular"):require("angular")(b)),a(c,require("../const/constants","../banner/menuBar")),c}:a(angular)}(function(a){"use strict";function b(b,c){function d(b){var c,d=b.find("div"),e=a.element(document.querySelector(".n-banner-3rd-filler-gray")),f=a.element(document).find("wf-banner-nav-tab-content"),g=f.children();if(d.length>0&&!d.hasClass("n-banner-overflow-control")||0===d.length)for(e.css({display:"none"}),c=0;c<g.length;c++){var h=g.eq(c);h.hasClass("n_banner_3rd_subItem")&&h.css({display:"none"})}if(b.hasClass("n-banner-3Link")){e.css({display:"block"}),f.css({display:"block"});var i=b.find("a")[0].dataset.item,j=document.getElementById(i);j&&a.element(j).css({display:"block"})}}var e=null,f=this.itemes=[],g=function(){if(e>=0&&e<f.length){var a=f[e];a.selected=!1}},h=function(a){var b=f[a];null!==b&&(b.selected=!0,e=a)},i=function(a){var b=f.length,c=a<b-1?a+1:b-1;return f[c]},j=function(a){for(var b=null,c=f.length,d=0;d<c;d++)if(f[d]===a){b=d;break}return b};this.addItem=function(a){f.push(a);var b=f.length-1;e===b&&(a.selected=!0)},this.click=function(b,c){this.selectItem(b,c),this.activateFocusedTab(c),d(a.element(c.target).parent().parent())},this.selectItem=function(a,b){var c=j(a);null!==c&&(null!==e&&(e===-1&&(e=c),g()),h(c))},this.removeItem=function(a){var b=j(a);if(null!==b){var c=e;if(f.splice(b,1),b===c){var d=i(b);null!==d&&this.selectItem(d)}else b<c&&(e-=1)}};var k=function(a){c(function(){a.focus()},0)},l=function(a){var b=j(a),c=f.length,d=null;if(null!==b)return d=b<c-1?b+1:b,f[d]},m=function(a){var b=j(a),c=null;if(null!==b)return c=b>0?b-1:b,f[c]};this.handleKeyDown=function(c,e){var f=a.element(e.target);switch(e.keyCode){case b.SPACE:case b.ENTER:this.selectItem(c,e),this.activateFocusedTab(e),d(f.parent()),e.preventDefault();break;case b.RIGHT:k(l(c)),e.preventDefault();break;case b.DOWN:f.parent().hasClass("dropdown")||(k(l(c)),e.preventDefault());break;case b.LEFT:case b.UP:k(m(c)),e.preventDefault()}},this.activateFocusedTab=function(b){for(var c=a.element(b.target),d=c.parent().parent().parent().find("ul").find("li"),e=0;e<d.length;e++)d.eq(e).hasClass("active")&&d.eq(e).removeClass("active");c.parent().addClass("active");var f=a.element(document.querySelector(".n-banner-2nd-gray-to-blue"));f.length>0&&(c.parent().hasClass("rightmost-tab")?f.addClass("active"):f.removeClass("active"))},this.$onInit=function(){e=a.isDefined(this.active)&&!isNaN(this.active)?this.active:0},this.$onChanges=function(a){if(a.active){var b=a.active.currentValue;if(b&&!isNaN(b)){var c=f[Number(b)];c&&this.selectItem(c)}}},this.$onDestroy=function(){this.destroyed=!0}}b.$inject=["WF-KEYCODE-CONST","$timeout"];var c=function(){this.selected=!1,this.$onInit=function(){this.navTabCtrl.addItem(this)},this.$onDestroy=function(){this.navTabCtrl&&!this.navTabCtrl.destroyed&&this.navTabCtrl.removeItem(this)}};a.module("wf.angular.bannerNavTabs",["wf.angular.constants","wf.angular.menuBar"]).component("wfBannerNavTabs",{transclude:!0,templateUrl:"wf/ng-template/banner/bannerNavTabs.html",bindings:{active:"<?"},controller:b}).component("wfBannerNavTabItem",{transclude:!0,templateUrl:"wf/ng-template/banner/bannerNavTabsItem.html",require:{navTabCtrl:"^wfBannerNavTabs"},bindings:{label:"@",cssClass:"@",link:"<",dataitem:"<?",menuBar:"<?"},controller:c})});