!function(a){"function"==typeof define&&define.amd?define(["angular","../const/constants","./treeTableTdComponent","./treeTableService","./treeModelService","./lodashService"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("angular"):require("angular")(b)),a(c,require("../const/constants"),require("./treeTableTdComponent"),require("./treeTableService"),require("./treeModelService"),require("./lodashService")),c}:a(angular)}(function(a){"use strict";function b(){function a(){return k}function b(a,b){return a.children.length>0&&b===j.drawBranchColIndex}function c(a){return a.isRoot()&&!j.treeTableModel.hideRoot||a.parent&&a.parent.isExpanded()||a.parent===j.treeTableModel&&j.treeTableModel.hideRoot}function d(a){var b=j.treeTableModel.first(function(a){return a.isSelected()});b&&b!==a&&b.unSelect(),a.toggleSelected(),j.onRowSelected&&(a.isSelected()?j.onRowSelected(a):j.onRowSelected())}function e(){j.treeTableModel.setAllExpanded()}function f(){j.treeTableModel.setCollapsed()}function g(a,b){b.stopPropagation(),a.toggleExpand()}function h(a,b){if(b!==j.drawBranchColIndex)return{};var c=j.hasToggleBtn(a,b),d=a.getPath().length,e=j.indentPerLevel*(d-(j.treeTableModel.hideRoot?2:1));return e>0?{"padding-left":""+(e/14+(!c&&1))+"em"}:{}}function i(a){var b=j.tableHeaders[a].textAlign;return"n-tree-table-td-"+b}var j=this,k=j.checkbox===!0;j.getIndent=h,j.expandAll=e,j.collapseAll=f,j.onRowClick=d,j.showTr=c,j.hasToggleBtn=b,j.hasCheckBox=a,j.onToggleExpandClicked=g,j.indentPerLevel=j.indentPerLevel||24,j.getTdAlign=i}a.module("wf.angular.treeTable",["wf.angular.treeTableService","wf.angular.treeTableTd","wf.angular.treeTableLodashService","wf.angular.treeTableTreeModelService"]).component("wfTreeTable",{templateUrl:"wf/ng-template/tree-table/treeTable.html",transclude:!0,bindings:{treeTableModel:"<",tableHeaders:"<",checkbox:"<",onRowSelected:"<",onCheckBoxClicked:"<",drawBranchColIndex:"<",indentPerLevel:"<?",treeTableTdRenderer:"<?"},controller:[b]}),a.module("wf.angular.treeTable").run(["$templateCache",function(a){a.put("wf/ng-template/tree-table/treeTable.html",'<div class="n-tree-table-control-area">\n    <button class="btn btn-icon" ng-click="$ctrl.expandAll()">\n        <span class="icon icon-expand"></span>\n    </button>\n    <button class="btn btn-icon" ng-click="$ctrl.collapseAll()">\n        <span class="icon icon-collapse-rounded"></span>\n    </button>\n</div>\n<div class="n-tree-table-container">\n    <table class="n-tree-table" border="1">\n        <thead>\n        <tr>\n            <td nowrap ng-repeat="headerText in $ctrl.tableHeaders track by $index" ng-class="[$ctrl.getTdAlign($index)]">{{headerText.title}}</td>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-click="$ctrl.onRowClick(item)" ng-class="{\'selected\':item.model.selected}"\n            ng-repeat="item in $ctrl.treeTableModel.all() track by $index" ng-show="$ctrl.showTr(item)">\n            <td ng-if="$ctrl.hasCheckBox()">\n                <div class="checkbox checkbox-small">\n                    <input id="{{\'tableCheckbox\' + $index}}" type="checkbox" ng-checked="item.model.checked" ng-disabled="item.model.checkboxDisabled" ng-click="$ctrl.onCheckBoxClicked($event)"></input>\n                    <label for="{{\'tableCheckbox\' + $index}}"></label>\n                </div>\n            </td>\n            <td ng-repeat="tdContent in item.model.colData track by $index" \n                ng-style=\'$ctrl.getIndent(item,$index)\' \n                ng-class="[$ctrl.getTdAlign($index + 1)]">\n                <span ng-if="$ctrl.hasToggleBtn(item,$index)"\n                      ng-class="{\'btn_expand icon icon-arrow\':item.model.expanded,\'btn_collapse icon icon-next\':!item.model.expanded}"\n                      ng-click="$ctrl.onToggleExpandClicked(item,$event);"></span>\n                <wf-tree-table-td tree-table-td-renderer="$ctrl.treeTableTdRenderer" index="$index"\n                               ng-class="{\'with-expand-span-ahead\':$ctrl.hasToggleBtn(item,$index)}"\n                               col-data="item.model.colData"></wf-tree-table-td>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n')}]),a.module("wf.angular.treeTable").run(["$templateCache",function(a){a.put("wf/ng-template/tree-table/treeTable-td.html",'<div class="tree-table-td" ng-bind-html="$ctrl.toAppendHtml"></div>\n')}])});