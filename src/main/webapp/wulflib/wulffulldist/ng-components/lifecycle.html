<!--
WULF (http://networks.nokia.com/)
Copyright (C) 2015 Nokia Solutions and Networks. All rights Reserved.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="../assets/css/github.css" rel="stylesheet"/>
    <link href="../wulfdist/css/wulf.min.css" rel="stylesheet"/>
    <link href="../assets/css/demo.css" rel="stylesheet"/>
</head>
<body class="demo-body-content">
<h1 class="component-header">Lifecycle</h1>
<hr>
<div class="row">
    <div class="col-md-12" ng-controller="DemoController as demo">
        <div id="wf_angular_lifecycle_demo" ng-cloak>
            <div id="angular_lifecycle_static">
                <h2>Statically defined</h2>
                <wf-lifecycle is-start="true" selected="true">EDIT</wf-lifecycle>
                <wf-lifecycle selected="true">TEST</wf-lifecycle>
                <wf-lifecycle selected="true">APPROVE</wf-lifecycle>
                <wf-lifecycle selected="true">DEPLOY</wf-lifecycle>
                <wf-lifecycle>ACTIVATE</wf-lifecycle>
                <wf-lifecycle is-end="true">ARCHIVE</wf-lifecycle>
                <br/>
            </div>
            <div id="angular_lifecycle_dynamic">
                <h2>Dynamically defined</h2>
                <span ng-repeat="node in demo.cycleNodes">
                    <wf-lifecycle ng-attr-selected="demo.stepSelected >= $index" ng-attr-is-start="$first" ng-attr-is-end="$last">{{node}}</wf-lifecycle>
                </span>
                <br/><br/>
                <input type="button" class="btn btn-standard" value="Previous" ng-click="demo.previous()">
                <input type="button" class="btn btn-standard" value="Next" ng-click="demo.next()">
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <p>
                <h2>Overview</h2>
                Angular 1.5 wrapped Lifecycle. Use <code>wf-lifecycle</code> to create a lifecycle node. You can use <code>ng-repeat</code>
                to dynamically generate your lifecycle widget, along with toggling its step states to "done" status.
                <b>Note</b> that <code>ng-repeat</code> may not generate a new line character in between repeating elements
                which is important in the rendering of the spaces in between each node/step since <code>wf-lifecycle</code> is inline-block.
                Thus, lifecycle nodes generated by <code>ng-repeat</code> may tend to appear closer than usual. This can be fixed by wrapping a <code>span</code>
                around <code>wf-lifecycle</code> and using <code>ng-repeat</code> there.  Consult the code below for an example implementation.
                </p>
            </div>
            <div class="col-md-6">
                <h2>wf-lifecycle settings</h2>
                <table class="n-table n-table-standard n-table-striped n-table-cell-hover">
                    <thead>
                    <tr>
                        <th>Attributes:Bindings</th>
                        <th>Accepted values</th>
                        <th>Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><code>isStart: &lt;?</code></td>
                        <td>
                            <ul>
                                <li>true/ false (default)</li>
                            </ul>
                        </td>
                        <td>Set to true if it is the start of the lifecycle object</td>
                    </tr>
                    <tr>
                        <td><code>isEnd: &lt;?</code></td>
                        <td>
                            <ul>
                                <li>true/ false (default)</li>
                            </ul>
                        </td>
                        <td>Set to true if it is the end of the lifecycle object</td>
                    </tr>
                    <tr>
                        <td><code>selected: &lt;?</code></td>
                        <td>
                            <ul>
                                <li>true/ false (default)</li>
                            </ul>
                        </td>
                        <td>Set to true if it is the lifecycle node/step is already done</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <wf-tabs ng-cloak>
            <wf-pane label="Markup">
            <pre ng-non-bindable>
                <code data-language="html">
<div>
    <h2>Statically defined</h2>
    <wf-lifecycle is-start="true" selected="true">EDIT</wf-lifecycle>
    <wf-lifecycle selected="true">TEST</wf-lifecycle>
    <wf-lifecycle selected="true">APPROVE</wf-lifecycle>
    <wf-lifecycle selected="true">DEPLOY</wf-lifecycle>
    <wf-lifecycle>ACTIVATE</wf-lifecycle>
    <wf-lifecycle is-end="true">ARCHIVE</wf-lifecycle>
    <br/>
    <h2>Dynamically defined</h2>
    <span ng-repeat="node in demo.cycleNodes">
        <wf-lifecycle ng-attr-selected="demo.stepSelected >= $index" ng-attr-is-start="$first" ng-attr-is-end="$last">{{node}}</wf-lifecycle>
    </span>
    <input type="button" class="btn btn-standard" value="Previous" ng-click="demo.previous()">
    <input type="button" class="btn btn-standard" value="Next" ng-click="demo.next()">
</div>
                </code>
            </pre>
            </wf-pane>
            <wf-pane label="Javascript">
            <pre>
                <code data-language="javascript">
require(['angular', 'wulf-ng/lifecycle/lifecycle'], function (angular) {
    var DemoController = function () {
        this.cycleNodes = ['THIS', 'IS', 'SOME', 'DYNAMICALLY', 'GENERATED', 'LIFECYCLE', 'WIDGET'];
        this.stepSelected = -1;

        this.next = function() {
            if(this.stepSelected < this.cycleNodes.length - 1){
                this.stepSelected++;
            }
        };

        this.previous = function() {
            if(this.stepSelected >= 0) {
                this.stepSelected--;
            }
        };
    };
};
                </code>
                </pre>
        </wf-tabs>
    </div>
</div>
<script src="../assets/js/rainbow.min.js"></script>
<script src="../assets/js/generic.js"></script>
<script src="../assets/js/javascript.js"></script>
<script src="../assets/js/html.js"></script>
<script src="../assets/js/require.js"></script>
<script src="../assets/js/require-config.js"></script>
<script>
    require(['angular', 'wulf-ng/lifecycle/lifecycle.tlp.min', 'wulf-ng/tabs/tabs.tlp.min'], function (angular) {
        var DemoController = function () {
            this.cycleNodes = ['THIS', 'IS', 'SOME', 'DYNAMICALLY', 'GENERATED', 'LIFECYCLE', 'WIDGET'];
            this.stepSelected = -1;

            this.next = function() {
                if(this.stepSelected < this.cycleNodes.length - 1){
                    this.stepSelected++;
                }
            };

            this.previous = function() {
                if(this.stepSelected >= 0) {
                    this.stepSelected--;
                }
            };
        };
        angular.module('wf.ng.demo', ['wf.angular.lifecycle', 'wf.angular.tabs']).controller('DemoController', DemoController);
        angular.element(document).ready(function () {
            angular.bootstrap(document, ['wf.ng.demo'], {
                strictDi: true
            });
        });
    });
</script>
</body>
</html>