<!DOCTYPE html>
<html>
<head>
	<title>Java Web Starter Application</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel="stylesheet" href="style.css" />
	<link href="wulfdist/css/wulf.basic.min.css" rel="stylesheet"/>
    <link href="wulfdist/css/wulf.inputfield.min.css" rel="stylesheet"/>
    <link href="wulfdist/css/wulf.search.min.css" rel="stylesheet"/>
    <link href="wulfdist/css/wulf.dropdowns.min.css" rel="stylesheet"/>
    <link href="wulfdist/css/wulf.navigation.min.css" rel="stylesheet"/>
    <link href="wulfdist/css/wulf.inputfield.min.css" rel="stylesheet"/>
    <link href="wulfdist/css/wulf.buttons.min.css" rel="stylesheet"/>
    <link href="wulfdist/css/wulf.combobox.min.css" rel="stylesheet"/>
    <link href="wulfdist/css/wulf.tooltip.min.css" rel="stylesheet"/>
    <link href="assets/css/demo.css" rel="stylesheet"/>
</head>
<body>

	<nav class="n-banner nokia_banner_normal">

            <div class="n-banner-1st-filler-white"></div>
            <div class="n-banner-1st-filler-blue"></div>
            <div class="n-banner-2nd-filler-blue hidden-xs hidden-on-blue-detached"></div>
            <div class="n-banner-2nd-filler-gray hidden-xs"></div>
            <div class="n-banner-3rd-filler-gray hidden-xs"></div>

            <div class="container-fluid">

                <div class="n-banner-header">
                    <button class="n-banner-toggle collapsed" data-target="#n-banner-collapse" data-toggle="collapse" type="button">
            <span class="sr-only">
              Toggle navigation
            </span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="n-banner-brand" href="#">
                        Stockwitter
                    </a>
                </div>

                <div class="collapse n-banner-collapse" id="n-banner-collapse">

                    <div class="row n-banner-1st">

                        <div class="n-banner-right n-banner-logo-img hidden-xs">
                            <img alt="Nokia" src="wulfdist/img/logo.png">
                        </div>

                        <div class="n-banner-right n-banner-1st-gray-to-white hidden-xs">
                            <div class="gray-mask"></div>
                            <div class="white-mask"></div>
                            <div class="gray-corner"></div>
                            <div class="white-corner"></div>
                        </div>

                        <ul class="n-banner-right n-banner-nav n-banner-controls">
                            <li>
                                <a id='TA_banner_username' href="#">
                                    <i class="icon icon-profile"></i>
                                    User Name
                                </a>
                            </li>
                            <li class="hidden-xs">
                                <p>
                                    |
                                </p>
                            </li>
                            <li class="dropdown">
                                <a aria-expanded="false" class="n-banner-dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                                    <span>Account</span>
                                    <i class="icon icon-arrow"></i>
                                </a>
                                <ul class="dropdown-menu" role="menu">
                                    <li>
                                        <a id='TA_banner_accountsubitem' href="#">
                                            <span>Account subitem</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="hidden-xs">
                                <p>
                                    |
                                </p>
                            </li>
                            <li>
                                <a id='TA_banner_logout' href="#">
                                    Log Out
                                </a>
                            </li>
                        </ul>

                        <div class="n-banner-right n-banner-1st-blue-to-gray hidden-xs">
                            <div class="blue-mask"></div>
                            <div class="gray-mask"></div>
                            <div class="blue-corner"></div>
                            <div class="gray-corner"></div>
                        </div>
                 
                    </div>
                </div>
            </div>
        </nav>
        <div class="row " style="padding:20px">
        <div class="col-sm-8  panel panel-shadow demo-menu-example-panel nav-secondary-vertical " style="width:30%;height:100%;padding:10px;">
        <h3>Stock Symbol</h3>
        <div class="input-group input-append dropdown combobox" data-initialize="combobox" id="myCombobox1">
                  <input id="combo1" type="text" class="form-control n-inputfield">
                  <div class="input-group-btn">
                  <button  type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
	              <ul  id= "symbol_list" class="dropdown-menu dropdown-menu-right n-dropdown-menu-scroll" role="menu"> </ul>
              </div>
         </div>
         
         <h4>Stock Name</h4>
         <input id="stockName" type="text" class="form-control n-inputfield n-inputfield-uneditable" readonly value="">
         <h4>Sector:</h4>
         <input id="sectorName" type="text" class=" n-inputfield n-inputfield-uneditable" readonly value="" style="width:50%">
         <h4>Industry:</h4>
         <input id="industryName" type="text" class="form-control n-inputfield n-inputfield-uneditable" readonly value=""style="width:50%">
         </div>
         <div class="col-sm-8  panel panel-shadow demo-menu-example-panel nav-secondary-vertical " style="width:70%;height:100%;padding:10px;">
         </div>
         </div>
         
	
	<script src="assets/js/app.js"></script>
	<script src="assets/js/require.js"></script>
	<script src="assets/js/require-config.js"></script>
	<script>
	require(['jquery'], function($){
	
	  var symbols = 'assets/stock_symbol/NASDAQ.txt';

	  		var nodeArray=new Array(); 
	  	
	    	jQuery.get(symbols, function(data) {
	    		var myvar = data;
	    		
	    		var arrLines = myvar.split("\n");
	    		  arrLines.forEach(function (line) {
	    		    nodeArray.push(new Array(line.split("\t")));
	    		  });
	  	    	
	    	var list = $('#symbol_list');
	    	
	    	nodeArray.forEach(function(symbols_data){
	    		list.append( '<li data-value="'+ symbols_data[0][0]  +'" class="ticker-symbols" ><a href="javascript:void(0)" onclick="analyze(\''+ symbols_data[0][0]  +'\');"><span>'+ symbols_data[0][0]  +'</span></a></li>');
	    	});
	    		
	    	$("#myCombobox1").find("li").on("click",function(event)
	    	{
	    		var currentNode = $(this).attr("data-value");
				nodeArray.forEach(function(node)
				{
					if(node[0][0]===currentNode)
					{
						$("#stockName").attr("value",node[0][1]);
						$("#sectorName").attr("value",node[0][5]);
						$("#industryName").attr("value",node[0][6]);
					}
				});
	    	});
	    	});
	});
	</script>
	<script>
    	require(['jquery', 'wulf/combobox','wulf/navbar', 'wulf/Servlet'], function($){
    		
		    $(document).on('input','.combobox .n-inputfield', function() {
			        var toggle = $('button.dropdown-toggle');
			        var parent = $(this).parent('.combobox');
			      var isOpen = parent.hasClass('combobox-open');
			
			       if( !isOpen ){
			           parent.find(toggle).trigger('click');
			            $(this).focus();
			        }
			
			        if( $(this).val() == 0 && isOpen ){
			            parent.find(toggle).trigger('click');
			        }
			        
			        var typedInput = $(this).val();
			          
			           if( typedInput == 0  && isOpen ){
			               parent.find(toggle).trigger('click');
			           }
			           
			           if('' == typedInput){
			            $('li.ticker-symbols').show();
			           }else{
			            $('li.ticker-symbols').hide();
			            $('li.ticker-symbols[data-value^='+typedInput+']').show();
			           }
			        
			   });
		      $('#myCombobox1').combobox();
		      $(document).ready(function () {
	          $('ul.dropdown-menu.dropdown-menu-right li').click(function () {
	              $('ul.dropdown-menu.dropdown-menu-right li').removeClass('selected');
	              $(this).addClass('selected');
	          });
	          $(".n-dropdown-menu-scroll").nScrollbar();
	      });
    	});
	</script>
	
</body>
</html>
